import{d as v,r as l,o as b,c as w,w as o,u as e,a as I,b as _,e as n,I as h,f as D,g as s,h as C,i as c,n as x,j as S,p as M,F as P,l as B,m as H,q as L,t as u,s as d,v as O,x as k,y as z,z as N}from"./index-DW7_CHzl.js";import{G as U,C as V,a as W,g as F,_ as G}from"./_plugin-vue_export-helper-i-MAicjm.js";const j={id:"container"},q=v({__name:"Tab3Page",setup(E){l(""),l(""),l(),l([]),l([]),l([]);const p=l([]),y=async()=>{try{const r=await U.getCurrentPosition();console.log("Current Position:",r),await T(r.coords.latitude,r.coords.longitude)}catch(r){console.error("Could not get current position",r)}},T=async(r,a)=>{const g={url:"https://api.open-meteo.com/v1/forecast",params:{latitude:String(r),longitude:String(a),daily:"weather_code,temperature_2m_max,temperature_2m_min,sunrise,sunset",timezone:"auto"}},i=await V.get(g);console.log("meteo:",i.data);const t=i.data.daily;console.log("Daily Meteo:",t),p.value=t.weather_code.map((f,m)=>({time:new Date(i.data.daily.time[m]),weatherCode:f,maxTemperature:t.temperature_2m_max[m],minTemperature:t.temperature_2m_min[m],sunrise:new Date(i.data.daily.sunrise[m]),sunset:new Date(i.data.daily.sunset[m]),weatherDescription:W(f,1)})).slice(1,6),console.log("Daily Info:",p.value)};return b(()=>{y()}),(r,a)=>{const g=I("ion-img"),i=I("ion-thumbnail");return _(),w(e(H),null,{default:o(()=>[n(e(C),null,{default:o(()=>[n(e(h),null,{default:o(()=>[n(e(D),null,{default:o(()=>a[0]||(a[0]=[s("Upcoming Days")])),_:1})]),_:1})]),_:1}),n(e(B),{fullscreen:!0},{default:o(()=>[n(e(C),{collapse:"condense"},{default:o(()=>[n(e(h),null,{default:o(()=>[n(e(D),{size:"large"},{default:o(()=>a[1]||(a[1]=[s("Upcoming Days")])),_:1})]),_:1})]),_:1}),c("div",j,[n(e(x),null,{default:o(()=>[(_(!0),S(P,null,M(p.value,t=>(_(),w(e(L),null,{default:o(()=>[n(i,{slot:"start"},{default:o(()=>[n(g,{src:e(F)(t.weatherCode,t.time.getHours()>t.sunset.getHours()?0:1),alt:"Weather Icon"},null,8,["src"])]),_:2},1024),c("p",null,[c("strong",null,u(t.time.toDateString()),1),a[2]||(a[2]=s()),n(e(d),{"aria-hidden":"true",icon:e(O)},null,8,["icon"]),s(" "+u(t.sunrise.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))+" ",1),n(e(d),{"aria-hidden":"true",icon:e(k)},null,8,["icon"]),s(" "+u(t.sunset.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),1),a[3]||(a[3]=c("br",null,null,-1)),s(" "+u(t.weatherDescription)+" ",1),n(e(d),{"aria-hidden":"true",icon:e(z)},null,8,["icon"]),s(" "+u(t.minTemperature)+"°C ",1),n(e(d),{"aria-hidden":"true",icon:e(N)},null,8,["icon"]),s(" "+u(t.maxTemperature)+"°C",1)])]),_:2},1024))),256))]),_:1})])]),_:1})]),_:1})}}}),K=G(q,[["__scopeId","data-v-3724ad45"]]);export{K as default};
