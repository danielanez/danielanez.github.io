import{d as H,r as i,o as k,c as g,w as o,u as a,a as y,b as u,e as r,I as f,f as h,g as _,h as b,i as c,n as N,j as w,p as P,F as M,l as B,m as S,q as V,t as p,k as W}from"./index-DW7_CHzl.js";import{G as L,C as x,a as z,g as F,_ as G}from"./_plugin-vue_export-helper-i-MAicjm.js";const j={id:"container"},q={key:0},E=H({__name:"Tab2Page",setup(A){i(""),i(""),i();const C=i([]),I=i([]),d=i([]),v=async()=>{try{const n=await L.getCurrentPosition();console.log("Current Position:",n),await T(n.coords.latitude,n.coords.longitude)}catch(n){console.error("Could not get current position",n)}},T=async(n,s)=>{const m={url:"https://api.open-meteo.com/v1/forecast",params:{latitude:String(n),longitude:String(s),hourly:"temperature_2m,weather_code,is_day,precipitation_probability",timezone:"auto"}},t=await x.get(m);console.log("meteo:",t.data),console.log("times : ",t.data.hourly.time),console.log("temperatures : ",t.data.hourly.temperature_2m),console.log("weather codes : ",t.data.hourly.weather_code),console.log("is days : ",t.data.hourly.is_day),console.log("probabilities : ",t.data.hourly.precipitation_probability);const e=t.data.hourly;console.log("Hourly Meteo:",e),console.log("Temperatures:",e.temperature_2m),console.log("Is Days:",e.is_day),console.log("Weather Codes:",e.weather_code),console.log("Probabilities:",e.precipitation_probability),C.value=e.temperature_2m,I.value=t.data.hourly.time,d.value=e.temperature_2m.map((D,l)=>({time:new Date(t.data.hourly.time[l]).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),temperature:D,precipitation:e.precipitation_probability[l],isDay:e.is_day[l],weatherCode:e.weather_code[l],weatherDescription:z(e.weather_code[l],e.is_day[l])})).slice(0,12),console.log("Hourly Info:",d.value)};return k(()=>{v()}),(n,s)=>{const m=y("ion-img"),t=y("ion-thumbnail");return u(),g(a(S),null,{default:o(()=>[r(a(b),null,{default:o(()=>[r(a(f),null,{default:o(()=>[r(a(h),null,{default:o(()=>s[0]||(s[0]=[_("Next Hours")])),_:1})]),_:1})]),_:1}),r(a(B),{fullscreen:!0},{default:o(()=>[r(a(b),{translucent:!0,collapse:"condense"},{default:o(()=>[r(a(f),null,{default:o(()=>[r(a(h),{size:"large"},{default:o(()=>s[1]||(s[1]=[_("Next Hours")])),_:1})]),_:1})]),_:1}),c("div",j,[r(a(N),null,{default:o(()=>[(u(!0),w(M,null,P(d.value,e=>(u(),g(a(V),{key:e.time},{default:o(()=>[r(t,{slot:"start"},{default:o(()=>[r(m,{src:a(F)(e.weatherCode,e.isDay),alt:"Weather Icon"},null,8,["src"])]),_:2},1024),c("p",null,[c("strong",null,p(e.time),1),_(": "+p(e.weatherDescription)+" "+p(e.temperature)+"Â°C ",1),s[2]||(s[2]=c("br",null,null,-1)),e.precipitation>4?(u(),w("span",q,p(e.precipitation)+"% Chance of precipitation",1)):W("",!0)])]),_:2},1024))),128))]),_:1})])]),_:1})]),_:1})}}}),O=G(E,[["__scopeId","data-v-5eb63139"]]);export{O as default};
